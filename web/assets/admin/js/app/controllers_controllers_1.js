// Generated by CoffeeScript 1.7.1
(function() {
  'use strict';
  var app;

  app = angular.module('app.controllers', []);

  app.controller('PostsListController', [
    '$rootScope', '$http', function($rootScope, $http) {
      var PostsListController;
      return new (PostsListController = (function() {
        function PostsListController() {
          this.posts = [];
          $http.get('/api/posts').success((function(_this) {
            return function(data) {
              return _this.posts = data;
            };
          })(this));
        }

        PostsListController.prototype.postClicked = function(post) {
          return $rootScope.$broadcast('postSelected', post);
        };

        return PostsListController;

      })());
    }
  ]);

  app.controller('PostsPreviewController', [
    '$rootScope', '$scope', '$http', function($rootScope, $scope, $http) {
      var PostsPreviewController;
      return new (PostsPreviewController = (function() {
        function PostsPreviewController() {
          var unbind;
          this.post = {};
          unbind = $rootScope.$on('postSelected', (function(_this) {
            return function(scope, post) {
              return _this.post = post;
            };
          })(this));
          $rootScope.$on('$destroy', unbind);
        }

        return PostsPreviewController;

      })());
    }
  ]);

}).call(this);
