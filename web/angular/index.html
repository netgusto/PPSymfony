<!DOCTYPE html>
<html ng-app="store">
<head>
    <title>Angular</title>
    <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
</head>
<body ng-controller="StoreController as store" >

<div ng-hide="product.soldOut" ng-repeat="product in store.products | orderBy:'-price' | limitTo: 1">
    <h1> {{ product.name }} </h1>
    <h2> {{ product.price | currency:'€' }} </h2>

    <section ng-controller="PanelController as panel">
        <ul class="nav nav-pills">
            <li ng-class="{active: panel.isSelected(1)}"><a ng-click="panel.selectTab(1)">Description</a></li>
            <li ng-class="{active: panel.isSelected(2)}"><a ng-click="panel.selectTab(2)">Specifications</a></li>
            <li ng-class="{active: panel.isSelected(3)}"><a ng-click="panel.selectTab(3)">Reviews</a></li>
        </ul>

        <div class="panel" ng-show="panel.isSelected(1)">
            <h4>Description</h4>
            <p>{{ product.description }}</p>
        </div>

        <div class="panel" ng-show="panel.isSelected(2)">
            <h4>Specifications</h4>
            <p>None yet.</p>
        </div>

        <div class="panel" ng-show="panel.isSelected(3)">
            <h4>Reviews</h4>
            <ul>
                <li ng-repeat="productreview in product.reviews">
                    <strong>{{ productreview.stars }} Stars</strong><br />
                    {{ productreview.body }}
                    <blockquote>&mdash; {{ productreview.author }}</blockquote>
                </li>
            </ul>

            <form name="reviewform" ng-controller="ReviewController as reviewCtrl" ng-submit="reviewCtrl.addReview(product)" novalidate>

                <blockquote>
                    <strong>{{ reviewCtrl.review.stars }} Stars</strong>
                    {{ reviewCtrl.review.body }}
                    &mdash; {{ reviewCtrl.review.author }}
                </blockquote>
                <p>
                    <label>
                        Stars
                        <select ng-model="reviewCtrl.review.stars" required>
                            <option value="1">1 Star</option>
                            <option value="2">2 Stars</option>
                            <option value="3">3 Stars</option>
                            <option value="4">4 Stars</option>
                            <option value="5">5 Stars</option>
                        </select>
                    </label>
                </p>

                <p>
                    <label>
                        Author
                        <input type="text" ng-model="reviewCtrl.review.body" required />
                    </label>
                </p>

                <p>
                    <label>
                        Review
                        <textarea ng-model="reviewCtrl.review.author" required></textarea>
                    </label>
                </p>

                <input type="submit" />
            </form>
        </div>
    </section>

    <p> {{ product.description }} </p>
    <button class="btn btn-success" ng-show="product.canPurchase">Add to cart</button>
</div>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.14/angular.js"></script>
<script type="text/javascript" src="app.js"></script>
</body>
</html>